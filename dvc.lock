schema: '2.0'
stages:
  data_cleaning:
    cmd: python src/data_preprocessing.py
    deps:
    - path: data/raw/Dev_data_to_be_shared.csv
      hash: md5
      md5: 604fb57d7d4debda34605cae2c7b4842
      size: 293487740
    - path: data/raw/validation_data_to_be_shared.csv
      hash: md5
      md5: 2afc6f4b619122415e5cf97a4aca907b
      size: 126617929
    - path: src/data_preprocessing.py
      hash: md5
      md5: 6d0ea322b2e74ffa72f3840a3ec27ec8
      size: 7290
    params:
      params.yaml:
        data_cleaning.DEV_DATA_PATH: data/raw/Dev_data_to_be_shared.csv
        data_cleaning.ENCODING_TECHNIQUE: target
        data_cleaning.IMPUTATION_TECHNIQUE: mode
        data_cleaning.KNN_IMPUTER_N_NEIGHBORS: 5
        data_cleaning.NULL_PERCENTAGE: 0.25
        data_cleaning.RANDOM_STATE: 42
        data_cleaning.TEST_SIZE: 0.2
        data_cleaning.VAL_DATA_PATH: data/raw/validation_data_to_be_shared.csv
        data_cleaning.VARIANCE_THRESHOLD: 0
    outs:
    - path: data/interim/test.csv
      hash: md5
      md5: 8c063eb8daf21935a9352cd120e894c8
      size: 41368218
    - path: data/interim/train.csv
      hash: md5
      md5: da5fd964d34a1bead664c707870aa39e
      size: 165471400
    - path: data/interim/validation.csv
      hash: md5
      md5: a809d799a0c400b1ed82691abec71850
      size: 89275534
  feature_engineering:
    cmd: python src/feature_engineering.py
    deps:
    - path: data/interim/test.csv
      hash: md5
      md5: 8c063eb8daf21935a9352cd120e894c8
      size: 41368218
    - path: data/interim/train.csv
      hash: md5
      md5: da5fd964d34a1bead664c707870aa39e
      size: 165471400
    - path: data/interim/validation.csv
      hash: md5
      md5: a809d799a0c400b1ed82691abec71850
      size: 89275534
    - path: src/feature_engineering.py
      hash: md5
      md5: ab8969cde80e2c82ab50c0d6f560565a
      size: 12185
    params:
      params.yaml:
        feature_engineering.ANOVA_K: 40
        feature_engineering.FEATURE_IMPORTANCE_TECHNIQUE: combine
        feature_engineering.FEATURE_SELECTION_TECHNIQUE: anova
        feature_engineering.MAX_DEPTH: 10
        feature_engineering.MAX_FEATURES: sqrt
        feature_engineering.MIN_SAMPLES_LEAF: 2
        feature_engineering.MIN_SAMPLES_SPLIT: 5
        feature_engineering.NO_FEATURES: 40
        feature_engineering.N_ESTIMATORS: 200
        feature_engineering.RANDOM_STATE: 42
        feature_engineering.SFS_FORWARD: false
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: b452585b47159727cb79ce911e3bc13c
      size: 3880736
    - path: data/processed/train.csv
      hash: md5
      md5: c7b3d0502239191cbd6704a66df8d818
      size: 15527132
    - path: data/processed/val.csv
      hash: md5
      md5: 52cd2e7e520ffdb89857e2fb260d1342
      size: 8293955
  model_training:
    cmd: python src/Model_Building.py
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: 8c063eb8daf21935a9352cd120e894c8
      size: 41368218
    - path: data/processed/train.csv
      hash: md5
      md5: da5fd964d34a1bead664c707870aa39e
      size: 165471400
    - path: data/processed/val.csv
      hash: md5
      md5: a809d799a0c400b1ed82691abec71850
      size: 89275534
    - path: src/Model_Building.py
      hash: md5
      md5: ca43a919ee50bca2eb10dd184a9e6cb6
      size: 14224
    params:
      params.yaml:
        model_training.BATCH_SIZE: 128
        model_training.DROPOUT_RATE: 0.3
        model_training.GAMMA: 0.1
        model_training.HIDDEN_DIMS:
        - 512
        - 512
        - 256
        - 256
        - 256
        - 128
        - 128
        - 64
        - 32
        - 16
        model_training.LEARNING_RATE: 0.001
        model_training.MODEL: mlp
        model_training.NO_LAYERS: 10
        model_training.N_EPOCHS: 100
        model_training.PATIENCE: 15
        model_training.STEP_SIZE: 10
        model_training.VAL_THRESHOLD: 0.01
        model_training.WEIGHT_DECAY: 1e-05
