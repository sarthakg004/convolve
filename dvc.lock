schema: '2.0'
stages:
  data_cleaning:
    cmd: python src/data_preprocessing.py
    deps:
    - path: data/raw/Dev_data_to_be_shared.csv
      hash: md5
      md5: 604fb57d7d4debda34605cae2c7b4842
      size: 293487740
    - path: data/raw/validation_data_to_be_shared.csv
      hash: md5
      md5: 2afc6f4b619122415e5cf97a4aca907b
      size: 126617929
    - path: src/data_preprocessing.py
      hash: md5
      md5: d4d5a7a62e8e080ae0a6193c4ac42070
      size: 7359
    params:
      params.yaml:
        data_cleaning.DEV_DATA_PATH: data/raw/Dev_data_to_be_shared.csv
        data_cleaning.ENCODING_TECHNIQUE: target
        data_cleaning.IMPUTATION_TECHNIQUE: median
        data_cleaning.KNN_IMPUTER_N_NEIGHBORS: 5
        data_cleaning.NULL_PERCENTAGE: 0.25
        data_cleaning.RANDOM_STATE: 42
        data_cleaning.TEST_SIZE: 0.2
        data_cleaning.VAL_DATA_PATH: data/raw/validation_data_to_be_shared.csv
        data_cleaning.VARIANCE_THRESHOLD: 0
    outs:
    - path: data/interim/test.csv
      hash: md5
      md5: eea73451490c77b4e5414291576dc69f
      size: 41468459
    - path: data/interim/train.csv
      hash: md5
      md5: 45ce0f720aae4718bc583cbea5fd5837
      size: 165883941
    - path: data/interim/validation.csv
      hash: md5
      md5: 874b3c73cf930957c0d26b74c5956930
      size: 89474672
  feature_engineering:
    cmd: python src/feature_engineering.py
    deps:
    - path: data/interim/test.csv
      hash: md5
      md5: eea73451490c77b4e5414291576dc69f
      size: 41468459
    - path: data/interim/train.csv
      hash: md5
      md5: 45ce0f720aae4718bc583cbea5fd5837
      size: 165883941
    - path: data/interim/validation.csv
      hash: md5
      md5: 874b3c73cf930957c0d26b74c5956930
      size: 89474672
    - path: src/feature_engineering.py
      hash: md5
      md5: dce405e035a85dd90e70ef44ae0e3d17
      size: 12370
    params:
      params.yaml:
        feature_engineering.ANOVA_K: 40
        feature_engineering.FEATURE_IMPORTANCE_TECHNIQUE: combine
        feature_engineering.FEATURE_SELECTION_TECHNIQUE: anova
        feature_engineering.MAX_DEPTH: 10
        feature_engineering.MAX_FEATURES: sqrt
        feature_engineering.MIN_SAMPLES_LEAF: 2
        feature_engineering.MIN_SAMPLES_SPLIT: 5
        feature_engineering.NO_FEATURES: 40
        feature_engineering.N_ESTIMATORS: 200
        feature_engineering.RANDOM_STATE: 42
        feature_engineering.SFS_FORWARD: false
    outs:
    - path: data/processed/test.csv
      hash: md5
      md5: fbacbadb84090097e0aa595d29030f59
      size: 3892848
    - path: data/processed/train.csv
      hash: md5
      md5: 5e9714524e3a6267bb02ed7943a84c24
      size: 15575952
    - path: data/processed/val.csv
      hash: md5
      md5: 73df122befa72f2fd71c57d4bbdf8211
      size: 8319833
  model_training:
    cmd: python src/Model_Building.py
    deps:
    - path: data/processed/test.csv
      hash: md5
      md5: fbacbadb84090097e0aa595d29030f59
      size: 3892848
    - path: data/processed/train.csv
      hash: md5
      md5: 5e9714524e3a6267bb02ed7943a84c24
      size: 15575952
    - path: data/processed/val.csv
      hash: md5
      md5: 73df122befa72f2fd71c57d4bbdf8211
      size: 8319833
    - path: src/Model_Building.py
      hash: md5
      md5: f7f42b088597a36dcbcc160037bd2b9a
      size: 4417
    params:
      params.yaml:
        model_training.MODEL: xgb
